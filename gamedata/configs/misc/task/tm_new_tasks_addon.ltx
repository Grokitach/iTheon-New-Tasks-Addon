;------------------ Special tasks (not received through a dialog) ------------------
[bar_dolg_leader_task_urgent_orders]
icon = ui_icons_scientists12
condlist_0 = {!is_alive(bar_dolg_leader)} fail
condlist_1 = {!is_alive(yan_stalker_sakharov)} fail
precondition = false

title = urgent_orders_name
descr = bar_dolg_leader_task_urgent_orders_text
task_complete_descr = bar_dolg_leader_task_urgent_orders_finish

status_functor = urgent_orders_status_functor
target_functor = urgent_orders_target_functor
stage_complete = 1

on_complete = %=reward_random_money(12000:15000) =reward_stash(true) =complete_task_inc_goodwill(100:dolg) =urgent_orders_clear_eco_squad() +urgent_orders_completed%
on_fail = %=fail_task_dec_goodwill(75:dolg) =urgent_orders_clear_eco_squad()%

[agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_urgent_orders]
icon = ui_icons_scientists12
condlist_0 = {!is_alive(agr_smart_terrain_1_6_near_2_military_colonel_kovalski)} fail
condlist_1 = {!is_alive(yan_stalker_sakharov)} fail
precondition = false

title = urgent_orders_name
descr = agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_urgent_orders_text
task_complete_descr = agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_urgent_orders_finish

status_functor = urgent_orders_status_functor
target_functor = urgent_orders_target_functor
stage_complete = 1

on_complete = %=reward_random_money(12000:15000) =reward_stash(true) =complete_task_inc_goodwill(100:army) =urgent_orders_clear_eco_squad() +urgent_orders_completed%
on_fail = %=fail_task_dec_goodwill(75:army) =urgent_orders_clear_eco_squad()%

;------------------ Unique npc tasks ------------------
[esc_m_trader_task_new_tasks_addon_dead_night]
icon = ui_icons_face_controller4
repeat_timeout = 172800

title = esc_m_trader_task_new_tasks_addon_dead_night_name
descr = esc_m_trader_task_new_tasks_addon_dead_night_text
job_descr = esc_m_trader_task_new_tasks_addon_dead_night_about
task_complete_descr = esc_m_trader_task_new_tasks_addon_dead_night_finish
nta_task_details = dead_night_details
precondition = {-dead_night_started =check_nta_replayability(esc_m_trader_task_new_tasks_addon_dead_night)} true, false

status_functor = dead_night_task_status_functor
target_functor = dead_night_task_target_functor
stage_complete = 2

on_job_descr = %=dispatch_nta_task_details(esc_m_trader_task_new_tasks_addon_dead_night)%
on_init = %+dead_night_started%
on_complete = %=reward_random_money(12000:15000) =reward_stash(true) =complete_task_inc_goodwill(75:stalker) =dead_night_cleanup() -dead_night_started +esc_m_trader_task_new_tasks_addon_dead_night_completed%
on_fail = %=fail_task_dec_goodwill(50:stalker) =dead_night_cleanup() -dead_night_started%

[mil_smart_terrain_7_7_freedom_leader_stalker_task_skyfall]
icon = ui_inGame2_Evakuatsiya
repeat_timeout = 172800

title = mil_smart_terrain_7_7_freedom_leader_stalker_task_skyfall_name
descr = mil_smart_terrain_7_7_freedom_leader_stalker_task_skyfall_text
job_descr = mil_smart_terrain_7_7_freedom_leader_stalker_task_skyfall_about
task_complete_descr = mil_smart_terrain_7_7_freedom_leader_stalker_task_skyfall_finish
nta_task_details = skyfall_details
precondition = {-skyfall_started =check_nta_replayability(mil_smart_terrain_7_7_freedom_leader_stalker_task_skyfall)} true, false
condlist_0 = {!task_giver_alive(mil_smart_terrain_7_7_freedom_leader_stalker_task_skyfall)} fail

status_functor = skyfall_task_status_functor
target_functor = skyfall_task_target_functor
stage_complete = 3

on_job_descr = %=dispatch_nta_task_details(mil_smart_terrain_7_7_freedom_leader_stalker_task_skyfall)%
on_init = %+skyfall_started%
on_complete = %=reward_random_money(12000:15000) =reward_stash(true) =complete_task_inc_goodwill(75:freedom) =skyfall_cleanup() -skyfall_started +mil_smart_terrain_7_7_freedom_leader_stalker_task_skyfall_completed%
on_fail = %=fail_task_dec_goodwill(50:freedom) =skyfall_cleanup() =skyfall_fail_message() -skyfall_started%

[bar_dolg_general_petrenko_stalker_task_hold_the_ground]
icon = ui_new_tasks_addon_bandit
repeat_timeout = 172800

title = bar_dolg_general_petrenko_stalker_task_hold_the_ground_name
descr = bar_dolg_general_petrenko_stalker_task_hold_the_ground_text
job_descr = bar_dolg_general_petrenko_stalker_task_hold_the_ground_about
task_complete_descr = bar_dolg_general_petrenko_stalker_task_hold_the_ground_finish
nta_task_details = hold_the_ground_details
precondition = {-hold_the_ground_started =check_nta_replayability(bar_dolg_general_petrenko_stalker_task_hold_the_ground)} true, false
condlist_0 = {!task_giver_alive(bar_dolg_general_petrenko_stalker_task_hold_the_ground)} fail

status_functor = hold_the_ground_task_status_functor
target_functor = hold_the_ground_task_target_functor
stage_complete = 2

on_job_descr = %=dispatch_nta_task_details(bar_dolg_general_petrenko_stalker_task_hold_the_ground)%
on_init = %+hold_the_ground_started =hold_the_ground_cleanup()%
on_complete = %=reward_random_money(12000:15000) =reward_stash(true) =complete_task_inc_goodwill(75:dolg) -hold_the_ground_started +bar_dolg_general_petrenko_stalker_task_hold_the_ground_completed%
on_fail = %=fail_task_dec_goodwill(50:dolg) =hold_the_ground_fail_message() -hold_the_ground_started%

[cit_killers_merc_trader_stalker_task_no_step_back]
icon = ui_inGame2_Pripyat_1
repeat_timeout = 172800

title = cit_killers_merc_trader_stalker_task_no_step_back_name
descr = cit_killers_merc_trader_stalker_task_no_step_back_text
job_descr = cit_killers_merc_trader_stalker_task_no_step_back_about
task_complete_descr = cit_killers_merc_trader_stalker_task_no_step_back_finish
nta_task_details = no_step_back_details
precondition = {-no_step_back_started =check_nta_replayability(cit_killers_merc_trader_stalker_task_no_step_back)} true, false
condlist_0 = {!task_giver_alive(cit_killers_merc_trader_stalker_task_no_step_back)} fail

status_functor = no_step_back_task_status_functor
target_functor = no_step_back_task_target_functor
stage_complete = 2

on_job_descr = %=dispatch_nta_task_details(cit_killers_merc_trader_stalker_task_no_step_back)%
on_init = %+no_step_back_started =no_step_back_init() =no_step_back_cleanup()%
on_complete = %=reward_random_money(12000:15000) =reward_stash(true) =complete_task_inc_goodwill(75:killer) -no_step_back_started +cit_killers_merc_trader_stalker_task_no_step_back_completed%
on_fail = %=fail_task_dec_goodwill(50:killer) =no_step_back_fail_message() -no_step_back_started%

[yan_stalker_sakharov_task_brain_game]
icon = ui_icons_controller_face9
storyline = false
repeat_timeout = 31600

title = yan_stalker_sakharov_task_brain_game_name
descr = yan_stalker_sakharov_task_brain_game_text
job_descr = yan_stalker_sakharov_task_brain_game_about
task_complete_descr = yan_stalker_sakharov_task_brain_game_finish
nta_task_details = brain_game_details
precondition = {-yan_stalker_sakharov_task_brain_game_started =check_nta_replayability(yan_stalker_sakharov_task_brain_game)} true, false
condlist_0 = {!task_giver_alive(yan_stalker_sakharov_task_brain_game)} fail

stage_complete = 1
target_functor = brain_game_target_functor
status_functor = brain_game_status_functor

on_job_descr = %=dispatch_nta_task_details(yan_stalker_sakharov_task_brain_game)%
on_init = %+yan_stalker_sakharov_task_brain_game_started =brain_game_cleanup()%
on_complete = %=complete_task_inc_goodwill(75:ecolog) =reward_random_money(8000:11000) -yan_stalker_sakharov_task_brain_game_started +yan_stalker_sakharov_task_brain_game_completed%
on_fail = %=fail_task_dec_goodwill(50:ecolog) -yan_stalker_sakharov_task_brain_game_started%

[bar_visitors_barman_stalker_trader_task_baba_yaga]
icon = ui_new_tasks_addon_swamp
storyline = false
repeat_timeout = 31600

title = bar_visitors_barman_stalker_trader_task_baba_yaga_name
descr = bar_visitors_barman_stalker_trader_task_baba_yaga_text
job_descr = bar_visitors_barman_stalker_trader_task_baba_yaga_about
task_complete_descr = bar_visitors_barman_stalker_trader_task_baba_yaga_finish
nta_task_details = baba_yaga_details
precondition = {-bar_visitors_barman_stalker_trader_task_baba_yaga_started =check_nta_replayability(bar_visitors_barman_stalker_trader_task_baba_yaga)} true, false
condlist_0 = {!task_giver_alive(bar_visitors_barman_stalker_trader_task_baba_yaga)} fail

stage_complete = 3
target_functor = baba_yaga_task_target_functor
status_functor = baba_yaga_task_status_functor

on_job_descr = %=dispatch_nta_task_details(bar_visitors_barman_stalker_trader_task_baba_yaga)%
on_init = %+bar_visitors_barman_stalker_trader_task_baba_yaga_started =baba_yaga_cleanup()%
on_complete = %=complete_task_inc_goodwill(75:stalker) =reward_random_money(8000:11000) -bar_visitors_barman_stalker_trader_task_baba_yaga_started +bar_visitors_barman_stalker_trader_task_baba_yaga_completed%
on_fail = %=fail_task_dec_goodwill(50:stalker) -bar_visitors_barman_stalker_trader_task_baba_yaga_started%

[mar_smart_terrain_base_stalker_leader_marsh_task_house_of_horrors]
icon = ui_new_tasks_addon_zombie
storyline = false
repeat_timeout = 31600

title = mar_smart_terrain_base_stalker_leader_marsh_task_house_of_horrors_name
descr = mar_smart_terrain_base_stalker_leader_marsh_task_house_of_horrors_text
job_descr = mar_smart_terrain_base_stalker_leader_marsh_task_house_of_horrors_about
task_complete_descr = mar_smart_terrain_base_stalker_leader_marsh_task_house_of_horrors_finish
nta_task_details = house_of_horrors_details
precondition = {-mar_smart_terrain_base_stalker_leader_marsh_task_house_of_horrors_started =check_nta_replayability(mar_smart_terrain_base_stalker_leader_marsh_task_house_of_horrors)} true, false
condlist_0 = {!task_giver_alive(mar_smart_terrain_base_stalker_leader_marsh_task_house_of_horrors)} fail

stage_complete = 3
target_functor = house_of_horrors_task_target_functor
status_functor = house_of_horrors_task_status_functor

on_job_descr = %=dispatch_nta_task_details(mar_smart_terrain_base_stalker_leader_marsh_task_house_of_horrors)%
on_init = %+mar_smart_terrain_base_stalker_leader_marsh_task_house_of_horrors_started =house_of_horrors_cleanup()%
on_complete = %=complete_task_inc_goodwill(75:csky) =reward_random_money(8000:11000) -mar_smart_terrain_base_stalker_leader_marsh_task_house_of_horrors_started +mar_smart_terrain_base_stalker_leader_marsh_task_house_of_horrors_completed%
on_fail = %=fail_task_dec_goodwill(50:csky) -mar_smart_terrain_base_stalker_leader_marsh_task_house_of_horrors_started%

[zat_a2_stalker_barmen_task_mirage]
icon = ui_icons_burer16
storyline = false
repeat_timeout = 31600

title = zat_a2_stalker_barmen_task_mirage_name
descr = zat_a2_stalker_barmen_task_mirage_text
job_descr = zat_a2_stalker_barmen_task_mirage_about
task_complete_descr = zat_a2_stalker_barmen_task_mirage_finish
nta_task_details = mirage_details
precondition = {-zat_a2_stalker_barmen_task_mirage_started =check_nta_replayability(zat_a2_stalker_barmen_task_mirage)} true, false
condlist_0 = {!task_giver_alive(zat_a2_stalker_barmen_task_mirage)} fail

stage_complete = 7
target_functor = mirage_task_target_functor
status_functor = mirage_task_status_functor

on_job_descr = %=dispatch_nta_task_details(zat_a2_stalker_barmen_task_mirage)%
on_init = %+zat_a2_stalker_barmen_task_mirage_started =mirage_cleanup()%
on_complete = %=complete_task_inc_goodwill(100:stalker) =reward_random_money(20000:30000) -zat_a2_stalker_barmen_task_mirage_started +zat_a2_stalker_barmen_task_mirage_completed%
on_fail = %=fail_task_dec_goodwill(75:stalker) -zat_a2_stalker_barmen_task_mirage_started%

[jup_b220_trapper_task_big_game]
icon = ui_new_tasks_addon_giant
storyline = false
repeat_timeout = 31600

title = jup_b220_trapper_task_big_game_name
descr = jup_b220_trapper_task_big_game_text
job_descr = jup_b220_trapper_task_big_game_about
task_complete_descr = jup_b220_trapper_task_big_game_finish
nta_task_details = big_game_details
precondition = {-jup_b220_trapper_task_big_game_started =check_nta_replayability(jup_b220_trapper_task_big_game)} true, false
condlist_0 = {!task_giver_alive(jup_b220_trapper_task_big_game)} fail

stage_complete = 3
target_functor = big_game_task_target_functor
status_functor = big_game_task_status_functor

on_job_descr = %=dispatch_nta_task_details(jup_b220_trapper_task_big_game)%
on_init = %+jup_b220_trapper_task_big_game_started =big_game_cleanup()%
on_complete = %=complete_task_inc_goodwill(100:stalker) =reward_random_money(15000:20000) -jup_b220_trapper_task_big_game_started +jup_b220_trapper_task_big_game_completed%
on_fail = %=fail_task_dec_goodwill(75:stalker) -jup_b220_trapper_task_big_game_started%

[agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo]
icon = ui_iconsTotal_tutorial_find_artefact
storyline = false
sim_communities = army
repeat_timeout = 73200

title = agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo_name
descr = agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo_text
job_descr = agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo_about
task_complete_descr = agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo_finish
precondition = {-agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo_started =check_nta_replayability(agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo) =intercept_artifact_check(agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo:2:southern_maps:stalker)} true, false
condlist_0 = {!task_giver_alive(agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo)} fail

stage_complete = 2
target_functor = intercept_artifact_task_target_functor
status_functor = intercept_artifact_task_status_functor

on_job_descr = %=dispatch_intercept_artifact_task_details(agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo)%
on_init = %+agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo_started =spawn_intercept_artifact_artifact(agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo)%
on_complete = %=complete_task_inc_goodwill(100:army) =reward_random_money(10000:14000) -agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo_started +agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo_completed =intercept_artifact_completed(agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo) =intercept_artifact_cleanup(agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo)%
on_fail = %=fail_task_dec_goodwill(200:army) -agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo_started =intercept_artifact_cleanup(agr_smart_terrain_1_6_near_2_military_colonel_kovalski_task_enforce_embargo)%

[esc_m_trader_task_cold_blooded_betrayal]
icon = ui_iconsTotal_lost_thing
storyline = false
repeat_timeout = 73200

title = esc_m_trader_task_cold_blooded_betrayal_name
descr = esc_m_trader_task_cold_blooded_betrayal_text
job_descr = esc_m_trader_task_cold_blooded_betrayal_about
task_complete_descr = esc_m_trader_task_cold_blooded_betrayal_finish
precondition = {-esc_m_trader_task_cold_blooded_betrayal_started =check_nta_replayability(esc_m_trader_task_cold_blooded_betrayal) =intercept_artifact_check(esc_m_trader_task_cold_blooded_betrayal:2:southern_maps:bandit:renegade)} true, false
condlist_0 = {!task_giver_alive(esc_m_trader_task_cold_blooded_betrayal)} fail

stage_complete = 2
target_functor = intercept_artifact_task_target_functor
status_functor = intercept_artifact_task_status_functor

on_job_descr = %=dispatch_intercept_artifact_task_details(esc_m_trader_task_cold_blooded_betrayal)%
on_init = %+esc_m_trader_task_cold_blooded_betrayal_started =spawn_intercept_artifact_artifact(esc_m_trader_task_cold_blooded_betrayal)%
on_complete = %=complete_task_inc_goodwill(100:stalker) =reward_random_money(10000:14000) -esc_m_trader_task_cold_blooded_betrayal_started +esc_m_trader_task_cold_blooded_betrayal_completed =intercept_artifact_completed(esc_m_trader_task_cold_blooded_betrayal) =intercept_artifact_cleanup(esc_m_trader_task_cold_blooded_betrayal)%
on_fail = %=fail_task_dec_goodwill(200:stalker) -esc_m_trader_task_cold_blooded_betrayal_started =intercept_artifact_cleanup(esc_m_trader_task_cold_blooded_betrayal)%

;------------------ General tasks ------------------
[simulation_task_gambling_with_life]
icon = ui_inGame2_Ohota_na_Krovososov
storyline = false
sim_communities = freedom
repeat_timeout = 31600

title = simulation_task_gambling_with_life_name
descr = simulation_task_gambling_with_life_text
job_descr = simulation_task_gambling_with_life_about
task_complete_descr = simulation_task_gambling_with_life_finish
nta_task_details = gambling_with_life_details
precondition = {-simulation_task_gambling_with_life_started =check_nta_replayability(simulation_task_gambling_with_life)} true, false
condlist_0 = {!task_giver_alive(simulation_task_gambling_with_life)} fail

stage_complete = 1
target_functor = gambling_with_life_target_functor
status_functor = gambling_with_life_status_functor

on_job_descr = %=dispatch_nta_task_details(simulation_task_gambling_with_life)%
on_init = %+simulation_task_gambling_with_life_started =gambling_with_life_cleanup()%
on_complete = %=inc_goodwill_by_tasker_comm(simulation_task_gambling_with_life:50) =reward_random_money(8000:11000) -simulation_task_gambling_with_life_started +simulation_task_gambling_with_life_completed%
on_fail = %=dec_goodwill_by_tasker_id(simulation_task_gambling_with_life:25) -simulation_task_gambling_with_life_started%

[simulation_task_vengence_amplified]
icon = ui_inGame2_Ohota_na_Himeru
storyline = false
sim_communities = bandit
repeat_timeout = 31600

title = simulation_task_vengence_amplified_name
descr = simulation_task_vengence_amplified_text
job_descr = simulation_task_vengence_amplified_about
task_complete_descr = simulation_task_vengence_amplified_finish
nta_task_details = vengence_amplified_details
precondition = {-simulation_task_vengence_amplified_started =check_nta_replayability(simulation_task_vengence_amplified)} true, false
condlist_0 = {!task_giver_alive(simulation_task_vengence_amplified)} fail

stage_complete = 1
target_functor = vengence_amplified_target_functor
status_functor = vengence_amplified_status_functor

on_job_descr = %=dispatch_nta_task_details(simulation_task_vengence_amplified)%
on_init = %+simulation_task_vengence_amplified_started =vengence_amplified_cleanup()%
on_complete = %=inc_goodwill_by_tasker_comm(simulation_task_vengence_amplified:50) =reward_random_money(8000:11000) -simulation_task_vengence_amplified_started +simulation_task_vengence_amplified_completed%
on_fail = %=dec_goodwill_by_tasker_id(simulation_task_vengence_amplified:25) -simulation_task_vengence_amplified_started%